<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metrorex - Cump캒r캒</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="https://www.metrorex.ro/images/logo.svg">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <a href="/" class="logo">
                <div class="logo-icon"><span></span></div>
                <span class="logo-text">METROREX</span>
            </a>
            
            <nav>
                <ul class="nav-menu">
                    <li><a href="/" class="active">Acas캒</a></li>
                    <li><a href="/comenzi.html">Comenzi</a></li>
                    <li><a href="/dashboard.html">Rapoarte</a></li>
                    <li><a href="https://www.metrorex.ro/titluri-de-calatorie-tarife">Tarife</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <h1 class="page-title">Cump캒r캒</h1>
            
            <div id="alertContainer"></div>
            
            <div class="page-layout">
                <div class="form-container">
                    <div class="form-card" id="formCard">
                        
                        <form id="orderForm">
                            <!-- Sectiunea 1: Date Personale -->
                            <div class="form-section">
                                <h2 class="form-section-title">1. Date Personale</h2>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Nume <span class="required">*</span></label>
                                        <input type="text" id="nume" name="nume" required>
                                        <span id="error-nume" class="error-msg"></span>
                                    </div>
                                    <div class="form-group">
                                        <label>Prenume <span class="required">*</span></label>
                                        <input type="text" id="prenume" name="prenume" required>
                                        <span id="error-prenume" class="error-msg"></span>
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>CNP <span class="required">*</span> (13 cifre)</label>
                                        <input type="text" id="cnp" name="cnp" maxlength="13" placeholder="13 cifre" required>
                                        <span id="error-cnp" class="error-msg"></span>
                                    </div>
                                    <div class="form-group">
                                        <label>Email <span class="required">*</span></label>
                                        <input type="email" id="email" name="email" required>
                                        <span id="error-email" class="error-msg"></span>
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Telefon <span class="required">*</span></label>
                                        <input type="tel" id="telefon" name="telefon" placeholder="07xxxxxxxx" required>
                                        <span id="error-telefon" class="error-msg"></span>
                                    </div>
                                    <div class="form-group">
                                        <label>Adresa (op탵ional)</label>
                                        <input type="text" id="adresa" name="adresa" placeholder="Adresa de domiciliu">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Sectiunea 2: Selectare Produs -->
                            <div class="form-section">
                                <h2 class="form-section-title">2. Selectare Produs</h2>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Tip Produs <span class="required">*</span></label>
                                        <select id="tip_produs" name="tip_produs" required>
                                            <option value="">-- Selecta탵i tipul de produs --</option>
                                            <optgroup label="Bilete">
                                                <option value="bilet_1_calatorii" data-price="5.00">Bilet 1 c캒l캒torie - 5.00 RON</option>
                                                <option value="bilet_2_calatorii" data-price="10.00">Bilet 2 c캒l캒torii - 10.00 RON</option>
                                                <option value="bilet_10_calatorii" data-price="40.00">Bilet 10 c캒l캒torii - 40.00 RON</option>
                                                <option value="bilet_19_calatorii_s" data-price="4.00">Bilet 19 c캒l캒torii (studen탵i) - 4.00 RON</option>
                                            </optgroup>
                                            <optgroup label="Abonamente Scurt캒 Durat캒">
                                                <option value="abonament_24" data-price="12.00">Abonament 24 ore - 12.00 RON</option>
                                                <option value="abonament_72" data-price="35.00">Abonament 72 ore - 35.00 RON</option>
                                                <option value="abonament_saptamanal" data-price="45.00">Abonament s캒pt캒m칙nal - 45.00 RON</option>
                                            </optgroup>
                                            <optgroup label="Abonamente Lungi">
                                                <option value="abonament_lunar" data-price="100.00">Abonament lunar - 100.00 RON</option>
                                                <option value="abonament_lunar_elev" data-price="10.00">Abonament lunar elevi/studen탵i - 10.00 RON</option>
                                                <option value="abonament_6l" data-price="500.00">Abonament 6 luni - 500.00 RON</option>
                                                <option value="abonament_anual" data-price="900.00">Abonament anual - 900.00 RON</option>
                                            </optgroup>
                                            <optgroup label="Abonamente Speciale">
                                                <option value="abonament_donatori" data-price="50.00">Abonament donatori s칙nge - 50.00 RON</option>
                                            </optgroup>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Cantitate <span class="required">*</span> (1-50)</label>
                                        <input type="number" id="cantitate" name="cantitate" min="1" max="50" value="1" required>
                                        <span id="error-cantitate" class="error-msg"></span>
                                    </div>
                                </div>
                                
                                <!-- Conditii elev/student -->
                                <div id="conditii-elev" class="conditii-box" style="display: none;">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="am_legitimatie" name="am_legitimatie">
                                        <span>Confirm c캒 de탵in legitima탵ie de elev/student valid캒</span>
                                    </label>
                                    <small class="warning-text">Ve탵i fi obligat(캒) s캒 prezenta탵i legitima탵ia la prima utilizare</small>
                                </div>
                            </div>
                            
                            <!-- Sectiunea 3: Calcul Pret -->
                            <div class="form-section">
                                <h2 class="form-section-title">3. Calcul Pre탵 (AUTOMAT)</h2>
                                
                                <div class="price-table">
                                    <div class="price-row">
                                        <span>Pre탵 unitar:</span>
                                        <span id="pretUnitar">0.00 RON</span>
                                    </div>
                                    <div class="price-row">
                                        <span>Subtotal (f캒r캒 TVA):</span>
                                        <span id="subtotal">0.00 RON</span>
                                    </div>
                                    <div class="price-row">
                                        <span>TVA (19%):</span>
                                        <span id="tva">0.00 RON</span>
                                    </div>
                                    <div class="price-row total">
                                        <span>TOTAL:</span>
                                        <span id="total">0.00 RON</span>
                                    </div>
                                </div>
                                
                                <input type="hidden" id="pret_unitar_val" name="pret_unitar" value="0">
                                <input type="hidden" id="subtotal_val" name="subtotal" value="0">
                                <input type="hidden" id="tva_val" name="tva" value="0">
                                <input type="hidden" id="total_val" name="total" value="0">
                            </div>
                            
                            <!-- Sectiunea 4: Metoda de Plata -->
                            <div class="form-section">
                                <h2 class="form-section-title">4. Metod캒 de Plat캒</h2>
                                
                                <div class="payment-options">
                                    <label class="radio-label">
                                        <input type="radio" name="metoda_plata" value="card" checked>
                                        <span class="radio-custom"></span>
                                        <span class="radio-text">Card Bancar</span>
                                    </label>
                                    
                                    <label class="radio-label">
                                        <input type="radio" name="metoda_plata" value="cash">
                                        <span class="radio-custom"></span>
                                        <span class="radio-text">Numerar (la casele Metrorex)</span>
                                    </label>
                                    
                                    <label class="radio-label">
                                        <input type="radio" name="metoda_plata" value="transfer">
                                        <span class="radio-custom"></span>
                                        <span class="radio-text">Transfer Bancar la IBAN 123456789</span>
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Sectiunea 5: Observatii -->
                            <div class="form-section">
                                <h2 class="form-section-title">5. Observa탵ii</h2>
                                
                                <div class="form-group">
                                    <label>Observa탵ii suplimentare (op탵ional)</label>
                                    <textarea id="observatii" name="observatii" rows="3" placeholder="Introduce탵i observa탵ii suplimentare..."></textarea>
                                </div>
                            </div>
                            
                            <!-- Termeni si conditii -->
                            <div class="form-section terms-section">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="accept_termeni" required>
                                    <span>Accept <a href="#" class="link-blue">termenii 탳i condi탵iile</a> <span class="required">*</span></span>
                                </label>
                                <span id="error-termeni" class="error-msg"></span>
                            </div>
                            
                            <!-- Butoane -->
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" id="btnSubmit">
                                    Continu캒>>
                                </button>
                                
                            </div>
                        </form>
                    </div>
                    
                    <!-- Success box -->
                    <div class="success-box" id="successBox" style="display: none;">
                        <div class="success-icon"></div>
                        <h2>Comand캒 칥nregistrat캒 cu succes!</h2>
                        <p>Num캒rul comenzii:</p>
                        <div class="order-number" id="orderNumber"></div>
                        
                        <div class="success-details" id="successDetails"></div>
                        
                        <div class="download-buttons">
                            <a href="#" class="btn btn-primary" id="downloadPdf">Descarc캒 PDF</a>
                            <a href="#" class="btn btn-primary" id="downloadXml">Descarc캒 XML</a>
                        </div>
                        <p style="margin-top: 30px;">
                            <a href="/" class="btn btn-primary">Plaseaz캒 o nou캒 comand캒</a>
                        </p>
                    </div>
                </div>
                
                <!-- Contact sidebar -->
                <div class="contact-sidebar">
                    <div class="contact-item">
                        <span class="icon">游</span>
                        <div>
                            <a href="tel:+40219335">021.9335</a>
                            <span class="contact-hours">(L-D 6-23)</span>
                        </div>
                    </div>
                    <div class="contact-item">
                        <span class="icon">九괦잺</span>
                        <a href="mailto:contact@metrorex.ro">contact@metrorex.ro</a>
                    </div>
                    <div class="contact-item">
                        <span class="icon">游늰</span>
                        Program transport c캒l캒tori: <br>Zilnic 05:00 - 23:00
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-links">
                    <a href="https://card.metrorex.ro/#/faq">FAQS</a>
                    <a href="https://card.metrorex.ro/#/contact">Contact</a>
                    <a href="https://anpc.ro/">ANPC</a>
                </div>
                <div class="footer-social">
                    <a href="https://www.facebook.com/metrorexoficial.ro/"><img src="https://www.metrorex.ro/images/fb.svg" alt="Facebook"></a>
                    <a href="https://www.instagram.com/metrorex_sa/"><img src="https://www.metrorex.ro/images/ig.svg" alt="Instagram"></a>
                    <a href="https://www.linkedin.com/company/metrorex/"><img src="https://www.metrorex.ro/images/linkedin.svg" alt="LinkedIn"></a>
                </div>
                <div class="footer-logos">
                    <span class="payment-badge">MasterCard SecureCode</span>
                    <span class="payment-badge">Verified by VISA</span>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modal Ce card? -->
    <div class="modal-overlay" id="cardModal">
        <div class="modal-card">
            <div class="modal-header-simple">
                <h3>Ce card?</h3>
                <button class="modal-close" onclick="closeCardModal()">&times;</button>
            </div>
            <div class="modal-body-content">
                <p>Doar 칥nainte de prima cump캒rare online a unui abonament, ave탵i nevoie de un card de abonat Metrorex pe care 칥l pute탵i ob탵ine de la orice cas캒 de bilete cu 5 lei. Ulterior, abonamentul 칥l pute탵i 칥nc캒rca 칥n fiecare lun캒 exclusiv online. <a href="https://www.metrorex.ro/titluri-de-calatorie-tarife" class="link-blue">Detalii despre abonamente</a>.</p>
            </div>
        </div>
    </div>

    <script>
        // Modal functions
        function openCardModal() {
            document.getElementById('cardModal').classList.add('active');
        }
        
        function closeCardModal() {
            document.getElementById('cardModal').classList.remove('active');
        }
        
        // Close modal on overlay click
        document.getElementById('cardModal').addEventListener('click', function(e) {
            if (e.target === this) closeCardModal();
        });
        
        // Close modal on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') closeCardModal();
        });
        
        // Preturi produse
        const PRICES = {
            'bilet_1_calatorii': 5.00,
            'bilet_2_calatorii': 10.00,
            'bilet_10_calatorii': 40.00,
            'bilet_19_calatorii_s': 4.00,
            'abonament_24': 12.00,
            'abonament_72': 35.00,
            'abonament_saptamanal': 45.00,
            'abonament_lunar': 100.00,
            'abonament_lunar_elev': 10.00,
            'abonament_6l': 500.00,
            'abonament_anual': 900.00,
            'abonament_donatori': 50.00
        };
        
        // Produse pentru elevi/studenti
        const PRODUSE_ELEVI = ['bilet_19_calatorii_s', 'abonament_lunar_elev'];
        
        let currentPrices = {};
        
        function showAlert(message, type = 'success') {
            const container = document.getElementById('alertContainer');
            container.innerHTML = `<div class="alert alert-${type}">${message}</div>`;
            setTimeout(() => container.innerHTML = '', 5000);
        }
        
        function showError(fieldId, message) {
            const errorSpan = document.getElementById('error-' + fieldId);
            if (errorSpan) {
                errorSpan.textContent = message;
                errorSpan.style.display = 'block';
            }
        }
        
        function clearError(fieldId) {
            const errorSpan = document.getElementById('error-' + fieldId);
            if (errorSpan) {
                errorSpan.textContent = '';
                errorSpan.style.display = 'none';
            }
        }
        
        function clearAllErrors() {
            document.querySelectorAll('.error-msg').forEach(el => {
                el.textContent = '';
                el.style.display = 'none';
            });
        }
        
        // Validare CNP
        function validateCNP(cnp) {
            if (!/^\d{13}$/.test(cnp)) return false;
            const weights = [2, 7, 9, 1, 4, 6, 3, 5, 8, 2, 7, 9];
            let sum = 0;
            for (let i = 0; i < 12; i++) {
                sum += parseInt(cnp[i]) * weights[i];
            }
            let checkDigit = sum % 11;
            if (checkDigit === 10) checkDigit = 1;
            return checkDigit === parseInt(cnp[12]);
        }
        
        // Validare email
        function validateEmail(email) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }
        
        // Validare telefon
        function validatePhone(phone) {
            return /^(07\d{8}|02\d{8}|03\d{8})$/.test(phone.replace(/\s/g, ''));
        }
        
        // Calcul pret
        async function calculatePrice() {
            const tipProdus = document.getElementById('tip_produs').value;
            const cantitate = parseInt(document.getElementById('cantitate').value) || 1;
            
            // Show/hide conditii elev
            const conditiiElev = document.getElementById('conditii-elev');
            if (PRODUSE_ELEVI.includes(tipProdus)) {
                conditiiElev.style.display = 'block';
            } else {
                conditiiElev.style.display = 'none';
            }
            
            if (!tipProdus) {
                document.getElementById('pretUnitar').textContent = '0.00 RON';
                document.getElementById('subtotal').textContent = '0.00 RON';
                document.getElementById('tva').textContent = '0.00 RON';
                document.getElementById('total').textContent = '0.00 RON';
                return;
            }
            
            try {
                const response = await fetch('/calculate', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ tip_produs: tipProdus, cantitate: cantitate })
                });
                
                const data = await response.json();
                
                if (data.error) {
                    showAlert(data.error, 'error');
                    return;
                }
                
                currentPrices = data;
                
                document.getElementById('pretUnitar').textContent = data.pret_unitar.toFixed(2) + ' RON';
                document.getElementById('subtotal').textContent = data.subtotal.toFixed(2) + ' RON';
                document.getElementById('tva').textContent = data.tva.toFixed(2) + ' RON';
                document.getElementById('total').textContent = data.total.toFixed(2) + ' RON';
                
                // Update hidden fields
                document.getElementById('pret_unitar_val').value = data.pret_unitar;
                document.getElementById('subtotal_val').value = data.subtotal;
                document.getElementById('tva_val').value = data.tva;
                document.getElementById('total_val').value = data.total;
                
            } catch (error) {
                showAlert('Eroare la calculul pre탵ului: ' + error.message, 'error');
            }
        }
        
        // Event listeners pentru calcul pret
        document.getElementById('tip_produs').addEventListener('change', calculatePrice);
        document.getElementById('cantitate').addEventListener('change', calculatePrice);
        document.getElementById('cantitate').addEventListener('input', calculatePrice);
        
        // Validare in timp real
        document.getElementById('cnp').addEventListener('blur', function() {
            if (this.value && !validateCNP(this.value)) {
                showError('cnp', 'CNP invalid! Trebuie s캒 con탵in캒 13 cifre 탳i s캒 fie valid.');
            } else {
                clearError('cnp');
            }
        });
        
        document.getElementById('email').addEventListener('blur', function() {
            if (this.value && !validateEmail(this.value)) {
                showError('email', 'Adresa de email nu este valid캒!');
            } else {
                clearError('email');
            }
        });
        
        document.getElementById('telefon').addEventListener('blur', function() {
            if (this.value && !validatePhone(this.value)) {
                showError('telefon', 'Num캒rul de telefon nu este valid! (ex: 07xxxxxxxx)');
            } else {
                clearError('telefon');
            }
        });
        
        document.getElementById('cantitate').addEventListener('blur', function() {
            const val = parseInt(this.value);
            if (val < 1 || val > 50) {
                showError('cantitate', 'Cantitatea trebuie s캒 fie 칥ntre 1 탳i 50!');
            } else {
                clearError('cantitate');
            }
        });
        
        // Submit form
        document.getElementById('orderForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            clearAllErrors();
            
            let hasErrors = false;
            
            // Validare nume
            const nume = document.getElementById('nume').value.trim();
            if (!nume) {
                showError('nume', 'Numele este obligatoriu!');
                hasErrors = true;
            }
            
            // Validare prenume
            const prenume = document.getElementById('prenume').value.trim();
            if (!prenume) {
                showError('prenume', 'Prenumele este obligatoriu!');
                hasErrors = true;
            }
            
            // Validare CNP
            const cnp = document.getElementById('cnp').value.trim();
            if (!cnp) {
                showError('cnp', 'CNP-ul este obligatoriu!');
                hasErrors = true;
            } else if (!validateCNP(cnp)) {
                showError('cnp', 'CNP invalid!');
                hasErrors = true;
            }
            
            // Validare email
            const email = document.getElementById('email').value.trim();
            if (!email) {
                showError('email', 'Email-ul este obligatoriu!');
                hasErrors = true;
            } else if (!validateEmail(email)) {
                showError('email', 'Email invalid!');
                hasErrors = true;
            }
            
            // Validare telefon
            const telefon = document.getElementById('telefon').value.trim();
            if (!telefon) {
                showError('telefon', 'Telefonul este obligatoriu!');
                hasErrors = true;
            } else if (!validatePhone(telefon)) {
                showError('telefon', 'Telefon invalid!');
                hasErrors = true;
            }
            
            // Validare produs
            const tipProdus = document.getElementById('tip_produs').value;
            if (!tipProdus) {
                showAlert('Selecta탵i un produs!', 'error');
                hasErrors = true;
            }
            
            // Validare cantitate
            const cantitate = parseInt(document.getElementById('cantitate').value);
            if (cantitate < 1 || cantitate > 50) {
                showError('cantitate', 'Cantitatea trebuie s캒 fie 칥ntre 1 탳i 50!');
                hasErrors = true;
            }
            
            // Validare checkbox elev
            if (PRODUSE_ELEVI.includes(tipProdus)) {
                const amLegitimatie = document.getElementById('am_legitimatie').checked;
                if (!amLegitimatie) {
                    showAlert('Trebuie s캒 confirma탵i c캒 de탵ine탵i legitima탵ie de elev/student!', 'error');
                    hasErrors = true;
                }
            }
            
            // Validare termeni
            const acceptTermeni = document.getElementById('accept_termeni').checked;
            if (!acceptTermeni) {
                showError('termeni', 'Trebuie s캒 accepta탵i termenii 탳i condi탵iile!');
                hasErrors = true;
            }
            
            if (hasErrors) {
                showAlert('V캒 rug캒m s캒 corecta탵i erorile din formular!', 'error');
                return;
            }
            
            const btn = document.getElementById('btnSubmit');
            btn.disabled = true;
            btn.textContent = 'Se proceseaz캒...';
            
            try {
                const metodaPlata = document.querySelector('input[name="metoda_plata"]:checked').value;
                
                const formData = {
                    nume: nume,
                    prenume: prenume,
                    cnp: cnp,
                    email: email,
                    telefon: telefon,
                    adresa: document.getElementById('adresa').value || '',
                    tip_produs: tipProdus,
                    cantitate: cantitate,
                    metoda_plata: metodaPlata,
                    observatii: document.getElementById('observatii').value || '',
                    pret_unitar: currentPrices.pret_unitar,
                    subtotal: currentPrices.subtotal,
                    tva: currentPrices.tva,
                    total: currentPrices.total
                };
                
                const response = await fetch('/submit', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                });
                
                const data = await response.json();
                
                if (data.success) {
                    document.getElementById('formCard').style.display = 'none';
                    document.getElementById('orderNumber').textContent = data.numar_comanda;
                    
                    // Show success details
                    const PRODUCT_NAMES = {
                        'bilet_1_calatorii': 'Bilet 1 c캒l캒torie',
                        'bilet_2_calatorii': 'Bilet 2 c캒l캒torii',
                        'bilet_10_calatorii': 'Bilet 10 c캒l캒torii',
                        'bilet_19_calatorii_s': 'Bilet 19 c캒l캒torii (studen탵i)',
                        'abonament_24': 'Abonament 24h',
                        'abonament_72': 'Abonament 72h',
                        'abonament_saptamanal': 'Abonament s캒pt캒m칙nal',
                        'abonament_lunar': 'Abonament lunar',
                        'abonament_lunar_elev': 'Abonament lunar elevi/studen탵i',
                        'abonament_6l': 'Abonament 6 luni',
                        'abonament_anual': 'Abonament anual',
                        'abonament_donatori': 'Abonament donatori s칙nge'
                    };
                    
                    const METODA_NAMES = {
                        'card': 'Card Bancar',
                        'cash': 'Numerar',
                        'transfer': 'Transfer Bancar'
                    };
                    
                    document.getElementById('successDetails').innerHTML = `
                        <div class="details-table">
                            <div class="detail-row"><span>Client:</span><span>${prenume} ${nume}</span></div>
                            <div class="detail-row"><span>Produs:</span><span>${PRODUCT_NAMES[tipProdus] || tipProdus}</span></div>
                            <div class="detail-row"><span>Cantitate:</span><span>${cantitate}</span></div>
                            <div class="detail-row"><span>Total:</span><span><strong>${currentPrices.total.toFixed(2)} RON</strong></span></div>
                            <div class="detail-row"><span>Plat캒:</span><span>${METODA_NAMES[metodaPlata]}</span></div>
                        </div>
                    `;
                    
                    document.getElementById('downloadPdf').href = '/download/' + data.pdf_file;
                    document.getElementById('downloadXml').href = '/download/' + data.xml_file;
                    document.getElementById('successBox').style.display = 'block';
                    
                    // Scroll to top
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                } else {
                    showAlert('Eroare: ' + data.error, 'error');
                }
            } catch (error) {
                showAlert('Eroare: ' + error.message, 'error');
            } finally {
                btn.disabled = false;
                btn.textContent = 'TRIMITE COMANDA';
            }
        });
        
        // Reset form
        document.getElementById('btnReset').addEventListener('click', function() {
            clearAllErrors();
            document.getElementById('pretUnitar').textContent = '0.00 RON';
            document.getElementById('subtotal').textContent = '0.00 RON';
            document.getElementById('tva').textContent = '0.00 RON';
            document.getElementById('total').textContent = '0.00 RON';
            document.getElementById('conditii-elev').style.display = 'none';
            currentPrices = {};
        });
    </script>
</body>
</html>